{"version":3,"file":"environment.js","sourceRoot":"","sources":["../../src/api/environment.ts"],"names":[],"mappings":";;;AAEA,qDAAgD;AAIhD,SAAgB,gBAAgB,CAC9B,QAAyB;IAEzB,MAAM,eAAe,GAAG,MAAM,CAAC,MAAM,CACnC,EAAE,EACF;QACE,GAAG,EAAE,OAAO,CAAC,GAAG,EAAE;QAClB,MAAM,EAAE,OAAO,CAAC,MAAM;QACtB,MAAM,EAAE,OAAO,CAAC,MAAM;QACtB,GAAG,EAAE,OAAO,CAAC,GAAG;QAChB,KAAK,EAAE,KAAK;KACb,EACD,QAAQ,CACT,CAAA;IACD,OAAO;QACL,GAAG,eAAe;QAClB,MAAM,EAAE,IAAI,8BAAa,CAAC,eAAe,CAAC,MAAM,EAAE,eAAe,CAAC,KAAK,CAAC;KACzE,CAAA;AACH,CAAC;AAlBD,4CAkBC","sourcesContent":["import { ILogger } from '../logger'\nimport { IRunEnvironment } from './types'\nimport { ConsoleLogger } from './console_logger'\n\ntype EnvironmentWithLogger = Required<IRunEnvironment> & { logger: ILogger }\n\nexport function mergeEnvironment(\n  provided: IRunEnvironment\n): EnvironmentWithLogger {\n  const fullEnvironment = Object.assign(\n    {},\n    {\n      cwd: process.cwd(),\n      stdout: process.stdout,\n      stderr: process.stderr,\n      env: process.env,\n      debug: false,\n    },\n    provided\n  )\n  return {\n    ...fullEnvironment,\n    logger: new ConsoleLogger(fullEnvironment.stderr, fullEnvironment.debug),\n  }\n}\n"]}